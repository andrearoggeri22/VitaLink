@startuml "Diagramma di Sequenza VitaLink"
' Diagramma di Sequenza
actor "Healthcare Professional" as Doctor
participant "Web Interface" as UI
participant "Authentication" as Auth
participant "Patient Controller" as PatientCtrl
participant "Vital Signs Controller" as VitalCtrl
participant "Database" as DB
participant "Audit System" as Audit
participant "Notification Service" as Notif

Doctor -> UI: Login Request
UI -> Auth: Authenticate(email, password)
Auth -> DB: Verify Credentials
DB --> Auth: Return Result
Auth --> UI: Authentication Result
UI --> Doctor: Display Dashboard

Doctor -> UI: Select Patient
UI -> PatientCtrl: GetPatient(uuid)
PatientCtrl -> DB: Query Patient
DB --> PatientCtrl: Patient Data
PatientCtrl -> Audit: LogAction(VIEW, PATIENT)
PatientCtrl --> UI: Return Patient Details
UI --> Doctor: Display Patient Details

Doctor -> UI: Add Vital Sign
UI -> VitalCtrl: AddVitalSign(patient_id, type, value)
VitalCtrl -> DB: Save Vital Sign
DB --> VitalCtrl: Success
VitalCtrl -> Audit: LogAction(CREATE, VITAL_SIGN)

alt Abnormal Value
  VitalCtrl -> Notif: SendAlert(patient_id, message)
  Notif -> Doctor: SMS Alert
end

VitalCtrl --> UI: Result
UI --> Doctor: Display Updated Vitals
@enduml